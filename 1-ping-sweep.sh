#!/bin/bash

GLOBAL='./GLOBAL_CONST.sh' 
TMP_FILE="tmp.out"

source $GLOBAL

### CREATE DIR IF NOT EXISTS ####
isDirExists $QUICK_SCAN_DIR

echo "********************************************"
echo "This script will do a quick ping to see host is up with -sP"
echo " and the result will be saved into $LIVE_HOSTS file."
echo "********************************************"

#### START PING SWEEP
echo -n "Nmapping subnet $IP_CIDR"
nmap -sP $IP_CIDR -oG $TMP_FILE;cat $TMP_FILE|cut -d " " -f 2|sort -u > $LIVE_HOSTS;sed -i -e 's/Nmap//g' $LIVE_HOSTS;cat $LIVE_HOSTS;rm $TMP_FILE

echo "If $OUTPUT_FILE looks good, please trim out-of-scope hosts"
