#!/bin/bash

### FUNCTION TO CHECK AN EXISTING DIRECTORY OR CREATE ###
function isDirExists {
	if [ ! -d "$1" ]; then
	    mkdir -p $1
	fi
}

function isFileExists {
	if [ ! -f "$1" ]; then
	    return 0
	else 
	    return 1
	fi
}

function isEmpty {
	if [ -z "$1" ]; then
	    return 0
	else 
	    return 1
	fi
}

#### GLOBAL CONSTANTS WILL BE USED AS INCLUDE FOR OTHER SCRIPS ####
#### CHANGE TO FIT YOUR ENVIRONMENT #####
DEFAULT_WIP="/tmp/Practice"
PENTEST_ROOT="$(printenv PENTEST_ROOT_DIR)" 

if [[ -z $PENTEST_ROOT ]]
then
	read -p "Enter working directory [$DEFAULT_WIP]: " rootFolder
	if [ -z $rootFolder ]
	then
		PENTEST_ROOT=$DEFAULT_WIP
	fi

fi

isDirExists $PENTEST_ROOT

export PENTEST_ROOT_DIR=$PENTEST_ROOT

NMAP_RESULT_DIR="$PENTEST_ROOT/0-nmap-results"
QUICK_SCAN_DIR="$NMAP_RESULT_DIR/1-quickscan"
HOSTS_NMAP_DIR="$NMAP_RESULT_DIR/2-hosts-nmap"

##### THIS SECTION HOLDS PATHS FOR HTTP/FTP/SNMP/SMB SWEEP NMAP ###
HTTP_SWEEP_FILE="$QUICK_SCAN_DIR/list-web-servers.txt"
FTP_SWEEP_FILE="$QUICK_SCAN_DIR/list-ftp-servers.txt"
SNMP_SWEEP_FILE="$QUICK_SCAN_DIR/list-snmp-servers.txt"
SMB_SWEEP_FILE="$QUICK_SCAN_DIR/list-smb-servers.txt"

#### NETWORK CONST ####
IP_CDIR='192.168.56.2-254'
MY_IP="$(ip addr show eth0 | grep "inet\b" | awk '{print $2}' | cut -d/ -f1)"


#### MASTER LIVE HOSTS FILE ####
HOSTS_FILE="livehosts.txt"
LIVE_HOSTS="$QUICK_SCAN_DIR/$HOSTS_FILE"

#### PORT DEFINITION FOR RECON NMAP SCANS ####
#### Multiple ports delimit by comma (,) like 21,443
FTP="21"
SSH="22"
HTTP="80,443"
SNMP="161"
SMTP="25"
TELNET="23"
SMB="139,445"

